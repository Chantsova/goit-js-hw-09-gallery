{"version":3,"sources":["js/images.js","index.js"],"names":["preview","original","description","refs","imagesBox","document","querySelector","originalImage","lightboxEl","lightboxImg","lightboxCloseBtn","lightboxOverlay","imagesCardsMarkup","makeImageCard","images","map","index","join","onImageClick","event","preventDefault","window","addEventListener","onEscKeyPress","onNavigationKeysPress","target","classList","contains","add","source","dataset","altName","getAttribute","setAttribute","forCloseModal","removeEventListener","remove","code","currentIndex","numberCurrentIdx","parseInt","imagesLength","length","newIndexIncr","src","alt","newIndexDecr","insertAdjacentHTML"],"mappings":"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","file":"src.c742df90.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];","import './sass/main.scss';\n\nimport images from './js/images.js';\n\n  const refs = {\n  imagesBox: document.querySelector('.js-gallery'),\n  originalImage: document.querySelector('.gallery__image'),\n  lightboxEl: document.querySelector('.lightbox'),\n  lightboxImg: document.querySelector('.lightbox__image'),\n  lightboxCloseBtn: document.querySelector('.lightbox__button'),\n  lightboxOverlay: document.querySelector('.lightbox__overlay'),\n}\n\nconst imagesCardsMarkup = makeImageCard(images);\nrefs.imagesBox.insertAdjacentHTML('beforeend', imagesCardsMarkup);\n\nfunction makeImageCard(images) {\n  return images\n    .map(({preview, original, description}, index) => {\n      return `\n      <li class='gallery__item'>\n        <a class='gallery__link' href='${original}'>\n          <img class='gallery__image' src='${preview}' data-source='${original}' alt='${description}' index='${index}'/> \n        </a>\n      </li>\n      `;\n    })\n    .join('');\n};\n\nfunction onImageClick(event) {\n  event.preventDefault();\n  \n  window.addEventListener('keydown', onEscKeyPress);\n  window.addEventListener('keydown', onNavigationKeysPress);\n  const isImageBoxEl = event.target.classList.contains('gallery__image');\n\n  if (!isImageBoxEl) {\n    return;\n  }\n  \n  refs.lightboxEl.classList.add('is-open');\n\n  const source = event.target.dataset.source;\n  const altName = event.target.getAttribute('alt');\n  const index = event.target.getAttribute('index');\n  refs.lightboxImg.setAttribute('src', source);\n  refs.lightboxImg.setAttribute('alt', altName);\n  refs.lightboxImg.setAttribute('index', index);\n  }\n\nfunction forCloseModal() {\n  window.removeEventListener('keydown', onEscKeyPress);\n  window.removeEventListener('keydown', onNavigationKeysPress);\n  \n  refs.lightboxEl.classList.remove('is-open');\n  refs.lightboxImg.setAttribute('src', '');\n  refs.lightboxImg.setAttribute('alt', '');\n  refs.lightboxImg.setAttribute('index', '');\n}\n\nfunction onEscKeyPress(event) {\n  const ESC_KEY_CODE = 'Escape';\n  const isEscKey = event.code === ESC_KEY_CODE;\n  if (isEscKey) {\n    forCloseModal();\n  }\n}\n\nfunction onNavigationKeysPress(event) {\n  let currentIndex = refs.lightboxImg.getAttribute('index');\n  let numberCurrentIdx = parseInt(currentIndex);\n  const imagesLength = images.length;\n  \n\n  if (event.code === 'ArrowRight') {\n    let newIndexIncr = numberCurrentIdx + 1;\n    \n     if (newIndexIncr === imagesLength) {\n       newIndexIncr = 0;\n    }\n\n    refs.lightboxImg.src = images[newIndexIncr].original;\n    refs.lightboxImg.alt = images[newIndexIncr].description;\n    refs.lightboxImg.setAttribute('index', newIndexIncr);\n    }\n    \n  if (event.code === 'ArrowLeft') {\n    let newIndexDecr = numberCurrentIdx - 1;\n\n    if (newIndexDecr === -1) {\n       newIndexDecr = imagesLength - 1;\n    }\n\n    refs.lightboxImg.src = images[newIndexDecr].original;\n    refs.lightboxImg.alt = images[newIndexDecr].description;\n    refs.lightboxImg.setAttribute('index', newIndexDecr);\n  }\n}\n\nrefs.imagesBox.addEventListener('click', onImageClick);\nrefs.lightboxCloseBtn.addEventListener('click', forCloseModal);\nrefs.lightboxOverlay.addEventListener('click', forCloseModal);"]}